<div class="container py-5 col-md-12" >
  <div class="row">
    <div class="user-detail col-md-4 " *ngIf="!isEditMode">
      <h5>مرحبا بك يا <span class="fw-bold">{{user?.name}}</span></h5>
      <div class="card" style="width: 20rem;">
      <div class="card-header">
        <h5 class="mb-0 fw-bolder">بيانات المستخدم</h5>
      </div>
      <ul class="list-group list-group-flush px-0">
        <li class="list-group-item">موبايل: {{user?.mobile}}</li>
        <li class="list-group-item">المستوى: {{user?.level!+1}}</li>
        <li class="list-group-item">الجنس: {{ user?.gender==0?"ذكر":"أنثى" }}</li>
        <li class="list-group-item">العمر: {{ user?.age }}</li>
        <li class="list-group-item">الصفحة الحالية: {{ user?.currentPage }}</li>
      </ul>
    </div>
    <button class="btn btn-outline-info my-2" type="button" (click)="editMode()"> تعديل <mat-icon>edit</mat-icon></button>
    </div>

    <div class="col-md-8 shadow" *ngIf="isEditMode">
      <h1>تعديل بيانات المستخدم</h1>

      <form [formGroup]="form" (ngSubmit)="submit()">
        <div class="form-group my-1">
            <label for="name">الإسم</label>
            <input
                formControlName="name"
                id="name"
                type="text"
                [(ngModel)]="user.name"
                class="form-control">
            <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid" class="alert alert-danger">
                <div *ngIform.get="form.get('name').errors && form.get('name').errors['required']">حقل الاسم اجباري</div>
            </div>
        </div>

        <div class="form-group my-1">
            <label for="mobile">موبايل</label>
            <input
                formControlName="mobile"
                id="mobile"
                type="text"
                [(ngModel)]="user.mobile"
                class="form-control">
            <div *ngIf="form.get('mobile')?.touched && form.get('mobile')?.invalid" class="alert alert-danger">
                <div *ngIform.get="form.get('mobile').errors && form.get('mobile').errors['required']">حقل الموبايل إجباري</div>
            </div>
        </div>

        <div class="form-group my-1">
            <label for="level">المستوى</label>
            <select
                formControlName="level"
                id="level"
                class="form-control">
                <option [selected]="user.level==0" value="0">الأول</option>
                <option [selected]="user.level==1" value="1">الثاني</option>
                <option [selected]="user.level==2" value="2">الثالث</option>
            </select>
        </div>

        <div class="form-group my-1">
            <label for="gender">الجنس</label>
            <select
                formControlName="gender"
                id="gender"
                class="form-control">
                <option [selected]="user.gender==0" value="0">ذكر</option>
                <option [selected]="user.gender==1" value="1">أنثى</option>
            </select>
        </div>
        <div class="form-group my-1">
            <label for="age">العمر</label>
            <input
                formControlName="age"
                id="age"
                type="number"
                [(ngModel)]="user.age"
                class="form-control">
        </div>
        <div class="form-group my-1">
            <label for="currentPage">الصفحة الحالية</label>
            <input
                formControlName="currentPage"
                id="currentPage"
                type="number"
                [(ngModel)]="user.currentPage"
                class="form-control">
        </div>
        <div class="my-3 d-flex">
          <button class="btn btn-success ms-3" type="submit" [disabled]="form.invalid">حفظ التعديل</button>
          <button class="btn btn-danger" type="button" (click)="editModeOff()">الغاء</button>
        </div>
    </form>
    </div>
  </div>



</div>
